{"version":3,"sources":["webpack:///./src/pages/pdf.js"],"names":["PDFJs","init","source","element","iframe","document","createElement","src","encodeURIComponent","width","height","appendChild","overflow","PDFViewer","props","_this","_React$Component","call","this","viewerRef","React","createRef","backend","componentDidMount","hash","decodeURIComponent","window","location","test","substring","current","render","react__WEBPACK_IMPORTED_MODULE_2___default","a","ref","id","style","react_helmet__WEBPACK_IMPORTED_MODULE_5___default","className","Object","emotion__WEBPACK_IMPORTED_MODULE_0__","_ref","name","content","Component"],"mappings":"kNASMA,mCACJC,KAAO,SAACC,EAAQC,GACd,IAAMC,EAASC,SAASC,cAAc,UAEtCF,EAAOG,IAAP,+BAA4CC,mBAAmBN,GAC/DE,EAAOK,MAAQ,OACfL,EAAOM,OAAS,OAEhBP,EAAQQ,YAAYP,QA0BP,CACHQ,SAAQ,UAvBDC,cACnB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MACKC,UAAYC,IAAMC,YACvBN,EAAKO,QAAU,IAAItB,EAHFe,sCAMnBQ,kBAAA,WACE,IAAIhB,EAAG,eACDiB,EAAOC,mBAAmBC,OAAOC,SAASH,MAAQ,IACpDA,GAAQ,mBAAmBI,KAAKJ,KAClCjB,EAAMiB,EAAKK,UAAU,IAEvB,IAAM1B,EAAUe,KAAKC,UAAUW,QAC/BZ,KAAKI,QAAQrB,KAAKM,EAAKJ,MAGzB4B,OAAA,WACE,OACEC,EAAAC,EAAA3B,cAAA,OAAK4B,IAAKhB,KAAKC,UAAWgB,GAAG,SAASC,MAAO,CAAE3B,MAAO,OAAQC,OAAM,yBAClEsB,EAAAC,EAAA3B,cAAC+B,EAAAJ,EAAD,KACED,EAAAC,EAAA3B,cAAA,kBAAAgC,UAAAC,OAAAC,EAAA,IAAAD,CAAAE,KAKAT,EAAAC,EAAA3B,cAAA,QACEoC,KAAK,cACLC,QAAQ,qBA5BmBvB,IAAMwB","file":"component---src-pages-pdf-js-1b2084d4f2823b8d982f.js","sourcesContent":["import React from \"react\"\nimport styled from \"react-emotion\"\nimport { graphql } from \"gatsby\"\nimport Helmet from \"react-helmet\"\nimport presets, { colors } from \"../utils/presets\"\nimport { rhythm, options } from \"../utils/typography\"\nimport { vP } from \"../components/gutters\"\n\n\nclass PDFJs {\n  init = (source, element) => {\n    const iframe = document.createElement('iframe');\n\n    iframe.src = `/pdfjs/web/viewer.html?file=${encodeURIComponent(source)}`;\n    iframe.width = '100%';\n    iframe.height = '100%';\n\n    element.appendChild(iframe);\n  }\n}\n\nexport default class PDFViewer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.viewerRef = React.createRef();\n    this.backend = new PDFJs();\n  }\n\n  componentDidMount() {\n    let src = `/welcome.pdf`\n    const hash = decodeURIComponent(window.location.hash || '')\n    if (hash && /^#file=\\/static/i.test(hash)){\n      src = hash.substring(6)\n    }\n    const element = this.viewerRef.current;\n    this.backend.init(src, element);\n  }\n\n  render() {\n    return (\n      <div ref={this.viewerRef} id='viewer' style={{ width: '100%', height: `calc(100vh - 3.5rem)` }}>\n        <Helmet>\n          <htmlAttributes\n            css={{\n              overflow: `hidden`\n            }}\n          />\n          <meta\n            name=\"Description\"\n            content=\"小书匠 pdf 阅读\"\n          />\n        </Helmet>\n\n      </div>\n    )\n  }\n}\n"],"sourceRoot":""}